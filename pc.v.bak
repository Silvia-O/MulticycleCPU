module pc(
  input clk,
  input control,
  input [31:0] din,
  output [31:0] dout
  );
  
  reg[31:0] currentPC;
  integer fd;
  initial
  begin
    currentPC = 32'h3000; 
    fd = $fopen("results.txt","w");
  end
  
  always@(negedge clk)
  begin
    if(control) 
    begin
      currentPC = din;   //renew pc
      $display(" PC_current :0x%x ", currentPC); //display the current pc
      $fwrite(fd, "currentPC: %b\n", currentPC);
    end
  end

  assign dout = currentPC;
endmodule